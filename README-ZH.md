# CrossPoint Reader CJK

[English](./README.md) | **[ä¸­æ–‡](./README-ZH.md)** | [æ—¥æœ¬èª](./README-JA.md)

> åŸºäº [daveallie/crosspoint-reader](https://github.com/daveallie/crosspoint-reader) çš„ **Xteink X4** å¢¨æ°´å±é˜…è¯»å™¨å›ºä»¶ CJK é€‚é…ç‰ˆ. 

æœ¬é¡¹ç›®åœ¨åŸç‰ˆ CrossPoint Reader çš„åŸºç¡€ä¸Šè¿›è¡Œäº† CJK é€‚é…, æ”¯æŒå¤šè¯­è¨€ç•Œé¢å’Œ CJK å­—ä½“æ¸²æŸ“. 

![](./docs/images/cover.jpg)

## âœ¨ CJK ç‰ˆæ–°å¢åŠŸèƒ½

### ğŸŒ å¤šè¯­è¨€ç•Œé¢æ”¯æŒ (I18n)

- **å®Œæ•´æœ¬åœ°åŒ–**ï¼šæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ—¥è¯­ä¸‰ç§ç•Œé¢è¯­è¨€
- å¯åœ¨è®¾ç½®ä¸­éšæ—¶åˆ‡æ¢ç•Œé¢è¯­è¨€
- æ‰€æœ‰èœå•ã€æç¤ºã€è®¾ç½®é¡¹å‡å·²å®Œå…¨æœ¬åœ°åŒ–
- åŸºäºå­—ç¬¦ä¸² ID çš„åŠ¨æ€ç¿»è¯‘ç³»ç»Ÿ

### ğŸ“ CJK å­—ä½“ç³»ç»Ÿ

- **å¤–ç½®å­—ä½“æ”¯æŒ**ï¼š
  - **é˜…è¯»å­—ä½“**ï¼šç”¨äºä¹¦ç±å†…å®¹ (å¯é€‰å¤§å°å’Œå­—ä½“æ—) 
  - **UI å­—ä½“**ï¼šç”¨äºèœå•ã€æ ‡é¢˜å’Œç•Œé¢
  - å­—ä½“å…±äº«é€‰é¡¹ï¼šä½¿ç”¨é˜…è¯»å­—ä½“ä½œä¸º UI å­—ä½“ä»¥èŠ‚çœå†…å­˜
- LRU ç¼“å­˜ä¼˜åŒ–, æå‡ CJK æ¸²æŸ“æ€§èƒ½
- å†…ç½® ASCII å­—ç¬¦å›é€€æœºåˆ¶, å‡å°‘å†…å­˜å ç”¨
- ç¤ºä¾‹å­—ä½“ï¼š
  - [æ€æºé»‘ä½“](fonts/SourceHanSansCN-Bold_20_20x20.bin) (UI å­—ä½“)
  - [äº¬åè€å®‹ä½“](fonts/KingHwaOldSong_38_33x39.bin) (é˜…è¯»å™¨å­—ä½“)

### ğŸ¨ ä¸»é¢˜ä¸æ˜¾ç¤º

- **æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢**, åº”ç”¨äºé˜…è¯»å™¨å’ŒUIç•Œé¢
- æ— åˆ·æ–°çš„å¹³æ»‘ä¸»é¢˜åˆ‡æ¢

## ğŸ“¦ åŠŸèƒ½åˆ—è¡¨

- [x] EPUB è§£æä¸æ¸²æŸ“ (EPUB 2 å’Œ EPUB 3)
- [x] EPUB å›¾ç‰‡ alt æ–‡æœ¬æ˜¾ç¤º
- [x] TXT çº¯æ–‡æœ¬é˜…è¯»æ”¯æŒ
- [x] é˜…è¯»è¿›åº¦ä¿å­˜
- [x] æ–‡ä»¶æµè§ˆå™¨ (æ”¯æŒåµŒå¥—æ–‡ä»¶å¤¹) 
- [x] è‡ªå®šä¹‰ä¼‘çœ ç”»é¢ (æ”¯æŒå°é¢æ˜¾ç¤º) 
- [x] KOReader é˜…è¯»è¿›åº¦åŒæ­¥
- [x] WiFi æ–‡ä»¶ä¸Šä¼ 
- [x] WiFi OTA å›ºä»¶æ›´æ–°
- [x] æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢
- [x] å¤šè¯­è¨€è¿å­—ç¬¦æ”¯æŒ
- [x] å­—ä½“ã€å¸ƒå±€ã€æ˜¾ç¤ºæ ·å¼è‡ªå®šä¹‰
  - [x] å¤–ç½®å­—ä½“ç³»ç»Ÿ (é˜…è¯» + UI å­—ä½“)
- [ ] å±å¹•æ—‹è½¬
  - [x] é˜…è¯»ç•Œé¢å±å¹•æ—‹è½¬
  - [ ] UI ç•Œé¢å±å¹•æ—‹è½¬
- [x] Calibre æ— çº¿è¿æ¥ä¸ç½‘é¡µåº“é›†æˆ
- [x] å°é¢å›¾ç‰‡æ˜¾ç¤º

è¯¦ç»†æ“ä½œè¯´æ˜è¯·å‚é˜… [ç”¨æˆ·æŒ‡å—](./USER_GUIDE.md). 

## ğŸ“¥ å®‰è£…æ–¹å¼

### ç½‘é¡µåˆ·å†™ (æ¨è)

1. ä½¿ç”¨ USB-C è¿æ¥ Xteink X4 åˆ°ç”µè„‘
2. è®¿é—® [å‘å¸ƒé¡µé¢](https://github.com/aBER0724/crosspoint-reader-cjk/releases) ä¸‹è½½æœ€æ–°å›ºä»¶
3. è®¿é—® https://xteink.dve.al/ å¹¶ä½¿ç”¨ "OTA fast flash controls" åˆ·å†™å›ºä»¶

> **æç¤º**ï¼šæ¢å¤å®˜æ–¹å›ºä»¶å¯è®¿é—®åŒä¸€ç½‘å€åˆ·å†™, æˆ–åœ¨ https://xteink.dve.al/debug åˆ‡æ¢å¯åŠ¨åˆ†åŒº

### æ‰‹åŠ¨ç¼–è¯‘

#### ç¯å¢ƒè¦æ±‚

* **PlatformIO Core** (`pio`)
* Python 3.8+
* USB-C æ•°æ®çº¿
* é˜…æ˜Ÿç³ X4

#### è·å–ä»£ç 

```bash
git clone --recursive https://github.com/aBER0724/crosspoint-reader-cjk

# è‹¥å…‹éš†åç¼ºå°‘å­æ¨¡å—ä»“åº“
git submodule update --init --recursive
```

#### æ„å»ºå¹¶çƒ§å½•

è¿æ¥è®¾å¤‡åè¿è¡Œ:

```bash
pio run --target upload
```

## ğŸ”  å­—ä½“ç›¸å…³

### å­—ä½“ç”Ÿæˆ

- `tools/generate_cjk_ui_font.py`

- [ç‚¹å¢¨](https://apps.apple.com/us/app/dotink-eink-assistant/id6754073002) (æ¨èä½¿ç”¨ç‚¹å¢¨æ¥ç”Ÿæˆé˜…è¯»å­—ä½“, ä¾¿äºæŸ¥çœ‹å­—ä½“åœ¨è®¾å¤‡ä¸Šçš„é¢„è§ˆæ•ˆæœ)

### å­—ä½“é…ç½®

1. åœ¨ SD å¡æ ¹ç›®å½•åˆ›å»º `fonts/` æ–‡ä»¶å¤¹
2. æ”¾å…¥ `.bin` æ ¼å¼çš„å­—ä½“æ–‡ä»¶
3. åœ¨è®¾ç½®ä¸­é€‰æ‹© "é˜…è¯»/é˜…è¯»å™¨å­—ä½“" æˆ– "æ˜¾ç¤º/UI å­—ä½“"

**å­—ä½“æ–‡ä»¶å‘½åæ ¼å¼**ï¼š`FontName_size_WxH.bin`

ç¤ºä¾‹ï¼š
- `SourceHanSansCN-Medium_20_20x20.bin` (UI: 20pt, 20x20)
- `KingHwaOldSong_38_33x39.bin` (é˜…è¯»: 38pt, 33x39)

**å­—ä½“è¯´æ˜**ï¼š
- **é˜…è¯»å­—ä½“**ï¼šç”¨äºä¹¦ç±å†…å®¹æ–‡æœ¬
- **UI å­—ä½“**ï¼šç”¨äºèœå•ã€æ ‡é¢˜å’Œç•Œé¢å…ƒç´ 

> è€ƒè™‘åˆ°å†…å­˜å‹åŠ›, æ‰€ä»¥å†…ç½®å­—ä½“ä½¿ç”¨ä¸­æ–‡å­—ç¬¦é›†å¾ˆå°, ä»…åŒ…å«äº† UI ç•Œé¢æ‰€éœ€çš„å­—ç¬¦.  
> å»ºè®®åœ¨ SD å¡ä¸­å­˜å…¥æ›´ä¸ºå®Œæ•´çš„ UI å­—ä½“å’Œé˜…è¯»å­—ä½“, è·å¾—æ›´å¥½çš„ä½¿ç”¨ä½“éªŒ.  
> è‹¥ä¸ä¾¿ç”Ÿæˆå­—ä½“, å¯ç‚¹å‡»ä¸‹è½½ä¸Šé¢æä¾›çš„ç¤ºä¾‹å­—ä½“.

## â„¹ï¸ å¸¸è§é—®é¢˜

1. è‹¥ç« èŠ‚é¡µæ•°è¾ƒå¤š, æœªå‘½ä¸­çš„å­—ç¬¦ä¹Ÿå¯èƒ½éšä¹‹å¢å¤š, å¯¼è‡´ç´¢å¼•æ—¶é—´è¾ƒé•¿.
    > è‹¥é‡å¯ä»å¡åœ¨ç´¢å¼•ä¸­, ä¸”é•¿æ—¶é—´æœªèƒ½å®Œæˆç´¢å¼•, æ— æ³•è¿”å›å…¶ä»–é¡µé¢. è¯·é‡æ–°åˆ·å…¥å›ºä»¶.
2. è‹¥åœ¨æŸä¸ªç•Œé¢å¡ä½, å¯å°è¯•é‡å¯è®¾å¤‡.

## ğŸ“œ è‡´è°¢

- [CrossPoint Reader](https://github.com/daveallie/crosspoint-reader) - åŸå§‹é¡¹ç›®
- [open-x4-sdk](https://github.com/daveallie/open-x4-sdk) - Xteink X4 å¼€å‘ SDK

---

**å£°æ˜**ï¼šæœ¬é¡¹ç›®ä¸ Xteink æˆ– X4 ç¡¬ä»¶åˆ¶é€ å•†æ— å…³, å‡ä¸ºç¤¾åŒºé¡¹ç›®. 
