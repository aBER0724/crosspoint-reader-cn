# CrossPoint Reader CJKç‰ˆ

[English](./README.md) | **[ä¸­æ–‡](./README-ZH.md)** | [æ—¥æœ¬èª](./README-JA.md)

> åŸºäº [daveallie/crosspoint-reader](https://github.com/daveallie/crosspoint-reader) çš„ **Xteink X4** å¢¨æ°´å±é˜…è¯»å™¨å›ºä»¶ CJK é€‚é…ç‰ˆã€‚

æœ¬é¡¹ç›®åœ¨åŸç‰ˆ CrossPoint Reader çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸­æ–‡åŒ–é€‚é…ï¼Œæ”¯æŒä¸­æ–‡ç•Œé¢å’Œä¸­æ–‡å­—ä½“æ¸²æŸ“ã€‚

![](./docs/images/cover.jpg)

## âœ¨ CJKç‰ˆæ–°å¢åŠŸèƒ½

### ğŸŒ™ æ·±è‰²æ¨¡å¼æ”¯æŒ
- å®Œæ•´çš„æ·±è‰²æ¨¡å¼ï¼Œåè½¬æ˜¾ç¤ºé¢œè‰²ï¼ˆé»‘åº•ç™½å­—ï¼‰
- è¿›å…¥é˜…è¯»å™¨å’Œç« èŠ‚åˆ‡æ¢æ—¶æ— ç™½å±é—ªçƒ
- å…¼å®¹ç°åº¦æŠ—é”¯é½¿æ¸²æŸ“
- åœ¨ è®¾ç½® â†’ æ˜¾ç¤ºé¢œè‰² ä¸­åˆ‡æ¢

### ğŸŒ å¤šè¯­è¨€ç•Œé¢æ”¯æŒ (I18n)
- æ”¯æŒ **ä¸­æ–‡**ã€**è‹±æ–‡**ã€**æ—¥è¯­** ä¸‰ç§ç•Œé¢è¯­è¨€
- å¯åœ¨è®¾ç½®ä¸­éšæ—¶åˆ‡æ¢ç•Œé¢è¯­è¨€
- æ‰€æœ‰èœå•ã€æç¤ºã€è®¾ç½®é¡¹å‡å·²æœ¬åœ°åŒ–

### ğŸ“ ä¸­æ–‡å­—ä½“æ”¯æŒ
- **å¤–ç½®å­—ä½“åŠ è½½**ï¼šä» SD å¡ `/fonts/` ç›®å½•åŠ è½½è‡ªå®šä¹‰ä¸­æ–‡å­—ä½“
- æ”¯æŒ Xteink æ ‡å‡† `.bin` å­—ä½“æ ¼å¼
- å†…ç½® LRU ç¼“å­˜ä¼˜åŒ–ï¼Œæå‡ä¸­æ–‡æ¸²æŸ“æ€§èƒ½
- ç¤ºä¾‹å­—ä½“ï¼š
  - `SourceHanSansCN-Medium_20_20x20.bin` (æ€æºé»‘ä½“)
  - `KingHwaOldSong_38_33x39.bin` (äº¬åè€å®‹ä½“)

## ğŸ“¦ åŠŸèƒ½åˆ—è¡¨

ç»§æ‰¿åŸç‰ˆæ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

- [x] EPUB è§£æä¸æ¸²æŸ“ (EPUB 2 å’Œ EPUB 3)
- [x] EPUB å›¾ç‰‡ alt æ–‡æœ¬æ˜¾ç¤º
- [x] TXT çº¯æ–‡æœ¬é˜…è¯»æ”¯æŒ
- [x] é˜…è¯»è¿›åº¦ä¿å­˜
- [x] æ–‡ä»¶æµè§ˆå™¨ï¼ˆæ”¯æŒåµŒå¥—æ–‡ä»¶å¤¹ï¼‰
- [ ] è‡ªå®šä¹‰ä¼‘çœ ç”»é¢ï¼ˆæ”¯æŒå°é¢æ˜¾ç¤ºï¼‰
- [x] WiFi æ–‡ä»¶ä¸Šä¼ 
- [x] WiFi OTA å›ºä»¶æ›´æ–°
- [x] å­—ä½“ã€å¸ƒå±€ã€æ˜¾ç¤ºæ ·å¼è‡ªå®šä¹‰
- [x] å±å¹•æ—‹è½¬
- [x] Calibre æ— çº¿è¿æ¥ä¸ç½‘é¡µåº“é›†æˆ
- [x] å°é¢å›¾ç‰‡æ˜¾ç¤º

è¯¦ç»†æ“ä½œè¯´æ˜è¯·å‚é˜… [ç”¨æˆ·æŒ‡å—](./docs/USER_GUIDE-ZH.md)ã€‚

## ğŸ“¥ å®‰è£…æ–¹å¼

### ç½‘é¡µåˆ·å†™ (æ¨è)

1. ä½¿ç”¨ USB-C è¿æ¥ Xteink X4 åˆ°ç”µè„‘
2. è®¿é—® https://xteink.dve.al/ å¹¶ç‚¹å‡» "Flash CrossPoint firmware"

> **æç¤º**ï¼šæ¢å¤å®˜æ–¹å›ºä»¶å¯è®¿é—®åŒä¸€ç½‘å€åˆ·å†™ï¼Œæˆ–åœ¨ https://xteink.dve.al/debug åˆ‡æ¢å¯åŠ¨åˆ†åŒº

### æ‰‹åŠ¨ç¼–è¯‘

è¯·å‚é˜…ä¸‹æ–¹ [å¼€å‘æŒ‡å—](#å¼€å‘) ç« èŠ‚ã€‚

## ğŸ”§ å¼€å‘

### ç¯å¢ƒè¦æ±‚

* **PlatformIO Core** (`pio`) æˆ– **VS Code + PlatformIO IDE**
* Python 3.8+
* USB-C æ•°æ®çº¿
* Xteink X4 è®¾å¤‡

### è·å–ä»£ç 

```bash
git clone --recursive https://github.com/aBER0724/crosspoint-reader-cn

# å¦‚æœå·²å…‹éš†ä½†æœªåŒ…å«å­æ¨¡å—ï¼š
git submodule update --init --recursive
```

### ç¼–è¯‘ä¸åˆ·å†™

è¿æ¥è®¾å¤‡åæ‰§è¡Œï¼š

```bash
pio run --target upload
```

### ä¸­æ–‡å­—ä½“é…ç½®

1. åœ¨ SD å¡æ ¹ç›®å½•åˆ›å»º `/fonts/` æ–‡ä»¶å¤¹
2. æ”¾å…¥ `.bin` æ ¼å¼çš„ä¸­æ–‡å­—ä½“æ–‡ä»¶
3. åœ¨è®¾ç½®ä¸­é€‰æ‹© "å¤–ç½®å­—ä½“" é€‰é¡¹

å­—ä½“æ–‡ä»¶å‘½åæ ¼å¼ï¼š`FontName_size_WxH.bin`
ä¾‹å¦‚ï¼š`SourceHanSansCN-Medium_20_20x20.bin`

#### å­—ä½“è½¬æ¢å·¥å…·

iOS ç”¨æˆ·å¯ä»¥ä½¿ç”¨ [ç‚¹å¢¨ - é˜…è¯»å™¨åŠ©æ‰‹](https://apps.apple.com/jp/app/%E7%82%B9%E5%A2%A8-%E9%98%85%E8%AF%BB%E5%99%A8%E5%8A%A9%E6%89%8B/id6754073002) æ¥è½¬æ¢å­—ä½“ä¸º `.bin` æ ¼å¼ã€‚

**é‡è¦æç¤º**ï¼šè‹¥å‡ºç°æ±‰å­—å…¨éƒ¨æ˜¾ç¤ºä¸ºé—®å·ï¼Œè¯·æ£€æŸ¥è½¬æ¢çš„ `.bin` å­—ä½“æ–‡ä»¶çš„å­—é—´è·å’Œè¡Œé—´è·æ˜¯å¦è®¾ç½®è¿‡å¤§ï¼Œå»ºè®®éƒ½ä¸è¦è¶…è¿‡ 48pxã€‚

## ğŸ“š æŠ€æœ¯ç»†èŠ‚

### æ•°æ®ç¼“å­˜

é¦–æ¬¡åŠ è½½ä¹¦ç±ç« èŠ‚æ—¶ä¼šç¼“å­˜åˆ° SD å¡ï¼Œåç»­åŠ è½½ç›´æ¥è¯»å–ç¼“å­˜ã€‚ç¼“å­˜ç›®å½•ä½äº SD å¡æ ¹ç›®å½• `.crosspoint/`ï¼š

```
.crosspoint/
â”œâ”€â”€ epub_12471232/       # æ¯æœ¬ EPUB å¯¹åº”ä¸€ä¸ªå­ç›®å½• (epub_<hash>)
â”‚   â”œâ”€â”€ progress.bin     # é˜…è¯»è¿›åº¦
â”‚   â”œâ”€â”€ cover.bmp        # ä¹¦ç±å°é¢
â”‚   â”œâ”€â”€ book.bin         # ä¹¦ç±å…ƒæ•°æ®
â”‚   â””â”€â”€ sections/        # ç« èŠ‚æ•°æ®
â”‚       â”œâ”€â”€ 0.bin
â”‚       â”œâ”€â”€ 1.bin
â”‚       â””â”€â”€ ...
â””â”€â”€ epub_189013891/
```

åˆ é™¤ `.crosspoint` ç›®å½•å¯æ¸…é™¤å…¨éƒ¨ç¼“å­˜ã€‚

æ›´å¤šæŠ€æœ¯ç»†èŠ‚è¯·å‚é˜… [æ–‡ä»¶æ ¼å¼æ–‡æ¡£](./docs/file-formats.md)ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`feature/your-feature`)
3. æäº¤ä¿®æ”¹
4. å‘èµ· Pull Request

## ğŸ“œ è‡´è°¢

- [daveallie/crosspoint-reader](https://github.com/daveallie/crosspoint-reader) - åŸç‰ˆ CrossPoint Reader

---

**å£°æ˜**ï¼šæœ¬é¡¹ç›®ä¸ Xteink æˆ– X4 ç¡¬ä»¶åˆ¶é€ å•†æ— å…³ï¼Œå‡ä¸ºç¤¾åŒºé¡¹ç›®ã€‚
